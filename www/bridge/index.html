<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JavaScript/Python bridge demo</title>
    <script type="text/javascript" src="/src/brython.js"></script>
    <script type="text/javascript" src="print.brython.js"></script>
    <script type="text/javascript" src="printJSFile.js"></script>
    <script type="text/python" src="print_py_file.py"></script>
  </head>
  <body>

    <script type="text/python" id="pythonscript">
from browser import console, window, document
import print_py, printJS, print_py_file

def print_python_from_script(message):
    print(message)

# Python code
print("pythonscript 1: print")
print_python_from_script("pythonscript 2: print_python_from_script")
print_py.print_python_from_module("pythonscript 3: print_python_from_module")
print_py_file.print_python_from_file("pythonscript 4: print_python_from_file")

# JavaScript code
console.log("pythonscript 5: console.log")
window.printJavaScriptFromScript("pythonscript 6: printJavaScriptFromScript")
printJS.printJavaScriptFromModule("pythonscript 7: printJavaScriptFromModule")
window.printJavaScriptFromFile("pythonscript 8: printJavaScriptFromFile")

document <= "Look at the 20 print in the JavaScript console"
    </script>

    <script type="text/javascript" id="javascriptscript">
printJavaScriptFromScript = function(message){
    console.log(message)
}

// JavaScript code
console.log("javascriptscript 1: console.log")
printJavaScriptFromScript("javascriptscript 2: printJavaScriptFromScript")
printJS.printJavaScriptFromModule("javascriptscript 3: printJavaScriptFromModule")
printJavaScriptFromFile("javascriptscript 4: printJavaScriptFromFile")

// Python code
__BRYTHON__.runPythonSource("print('javascriptscript 5: print')")
document.getElementById("pythonscript").addEventListener('load', function(script){
    pythonscript = __BRYTHON__.importModule("pythonscript")
    pythonscript.print_python_from_script("javascriptscript 6: print_python_from_script")
})
print_py.print_python_from_module("javascriptscript 7: print_python_from_module")
print_py_file = __BRYTHON__.importModule("print_py_file")
print_py_file.print_python_from_file("javascriptscript 8: print_python_from_file")
    </script>

  </body>
</html>
